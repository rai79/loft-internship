# Форма обратной связи на Laravel
## Задание
Необходимо реализовать форму обратной связи на Laravel:

-регистрация\авторизация: стандартный модуль auth (но пользователи должны быть с двумя ролями: менеджер и клиент.
Клиенты регистрируются самостоятельно, а аккаунт менеджера должен быть создан заранее, логин и пароль выслать вместе с готовым заданием)
-после логина, клиент видит форму обратной связи, а менеджер список заявок. (все страницы и функционал доступны только авторизованным пользователям и только в соответствии с их привилегиями)
-менеджер может просматривать список заявок и отмечать те, на которые ответил.
-список заявок:
*ID, тема, сообщение, имя клиента, почта клиента, время создания

-клиент может оставлять заявку, но не чаще раза в сутки.

-на странице создания заявки: тема, сообщение и кнопка "отправить".
-в момент обработки формы и создания заявки отправлять менеджеру email со всеми данными.

На вёрстку внимание обращаться не будет, важно оформление кода, phpdoc, использование  фич php7+ и возможностей фреймворка.

## Пояснение к выполненному заданию
Менеджер добавлен в систему со следующими учетными данными: 
```
Логин: manager@gmail.com
Пароль: manager
```
Перед использованием необходимо настроить доступ к БД и сервер исходящей почты. 
Для этого переименуйте файл ".env.example" в ".env".

Отредактируйте в нем настройки БД:
```
DB_DATABASE=homestead
DB_USERNAME=homestead
DB_PASSWORD=secret
```
и сервера исходящей почты:
```
MAIL_DRIVER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
```
Для работы выолните комманды:
```
composer install
php artisan migrate --seed
```
Они установят необходимые компоненты, создадут БД и занесут туда необходимые начальные данные.

## Обновления от 07.07.2018

Добавлена авторизация пользователей, настроен редирект исходя из параметров учетной записи. 
Авторизованные пользователи имеют доступ только к блоку добавления заявок, менеджер только к модулю просмотра заявок.

## Обновления от 08.07.2018

Полностью реализована работа для авторизованных пользователей.
При отсутствии менеджера в БД (по каким то причинам) выдается сообщение об ошибке. 

## Обновления от 08.07.2018

Полностью реализована работа для менеджера.
Менеджер может просматривать заявки и отмечать те которые уже обработал.
